<html>

<head>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
        integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
        integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
    <link rel="stylesheet" href="styles.css" />
    <script type="module">
        import { toggleUCS, toggleAStar, toggleAdd, toggleDelete, togglePath, toggleSearch, saveFileMap, resetMapState, generateMapMatrix, plotToMap } from './Map.js';
        import { readInputFile } from './IO.js'
        document.querySelector('#UCS').addEventListener('click', toggleUCS);
        document.querySelector('#Astar').addEventListener('click', toggleAStar);
        document.querySelector('#Save').addEventListener('click', saveFileMap);
        document.querySelector('#Add').addEventListener('click', toggleAdd);
        document.querySelector('#Path').addEventListener('click', togglePath);
        document.querySelector('#Delete').addEventListener('click', toggleDelete);
        document.querySelector('#Search').addEventListener('click', toggleSearch);
        document.querySelector('#reset').addEventListener('click', resetMapState);
        document.querySelector('#mapping').addEventListener('click', generateMapMatrix);
        document.querySelector('#Plot').addEventListener('click', plotToMap);
        document.querySelector('#graphinput').addEventListener('input', readInputFile);
    </script>
</head>

<body>
    <div id="map"></div>
    <div class="content">
        <div class="c1">
            <h3>Path Planning</h3>
        </div>
        <div class="c2">
            <form>
                <br>
                <div>
                    <h3>Algorithm</h3>

                    <input type="radio" id="UCS" name="algo" value="UCS" checked="checked">
                    <label for="UCS">UCS</label>

                    <input type="radio" id="Astar" name="algo" value="Astar">
                    <label for="Astar">A*</label>

                </div>
                <br>
                <div class="inputtxt">
                    <h3>Input File</h3>
                    <input type="file" id="graphinput" name="graphinput" accept=".txt">
                    <br>
                    <button type="button" id="Plot" name="Plot" accept=".txt">Plot Data</button>
                </div>
                <div class="outputtxt">
                    <h3>Output to File</h3>
                    <button type="button" id="Save" name="Save">Save File</button>
                </div>
                <br>
                <br>
                <div>
                    <h3>Cursor Modes</h3>
                    <input type="radio" id="Add" name="mode" value="Add" checked="checked">
                    <label for="Add">Marker Mode</label><br>
                    <input type="radio" id="Path" name="mode" value="Path">
                    <label for="Path">Path Mode</label><br>
                    <input type="radio" id="Delete" name="mode" value="Delete">
                    <label for="Delete">Delete Mode</label><br>
                    <input type="radio" id="Search" name="mode" value="Search">
                    <label for="Search">Search Mode</label>
                </div>
                <br>
                <br>
                <button type="button" id="reset" name="reset">Reset State</button>
                <button type="button" id="mapping" name="mapping">Map State</button>
            </form>
        </div>
    </div>
</body>

</html>